{"version":3,"sources":["reportWebVitals.ts","assets/imgs/github-logo.png","cmp/AppFooter.tsx","cmp/AppHeader.tsx","hooks/useForm.ts","assets/imgs/like-on.png","cmp/MoviePreview.tsx","cmp/MovieList.tsx","assets/imgs/bars-loader.svg","cmp/Loading.tsx","cmp/SideBar.tsx","services/event-bus.service.ts","cmp/UserMsg.tsx","services/async-storage.service.ts","services/storageService.ts","services/util.service.ts","services/starwars.service.ts","assets/imgs/like.png","cmp/LikeButton.tsx","pages/MovieDetails.tsx","App.tsx","index.tsx"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","AppFotter","className","src","target","href","gitHubLogo","AppHeader","initialFields","cb","useState","fields","setFields","useEffect","handleChange","value","field","name","type","checked","prevFields","useForm","txt","isFavorite","onChangeFilter","filterBy","htmlFor","id","onChange","placeholder","MoviePreview","movie","activeClassName","exact","to","_id","title","likeOn","MovieList","movies","map","Loading","Loader","alt","SideBar","length","eventBusService","on","eventName","listener","callListener","detail","window","addEventListener","removeEventListener","emit","data","dispatchEvent","CustomEvent","showSuccessMsg","showUserMsg","showErrorMsg","console","log","myBus","UserMsg","removeEvent","state","msg","this","setState","setTimeout","msgType","onClick","React","Component","storageService","query","get","post","put","remove","entityType","a","delay","entities","JSON","parse","localStorage","getItem","Promise","resolve","entityId","entity","find","Error","newEntity","_makeId","push","_save","updatedEntity","idx","findIndex","splice","setItem","stringify","possible","i","charAt","Math","floor","random","localStorageService","save","key","load","defaultValue","utilService","makeId","starwarsService","getMovies","getById","updateMovie","STARWARS_DB","STARWARS_API","_getMoviesAPI","moviesToShow","regex","RegExp","filter","test","axios","res","results","result","director","releaseDate","release_date","details","opening_crawl","img","_getImg","movieId","updatedMovie","LikeButton","onLikeClick","isLike","like","MovieDetails","match","loadMovies","setMovie","loadMovie","params","newMovie","App","setMovies","setFilterBy","path","render","props","authed","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c14cec7c.chunk.js","sourcesContent":["import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export default __webpack_public_path__ + \"static/media/github-logo.27e6971f.png\";","import gitHubLogo from '../assets/imgs/github-logo.png';\r\n\r\nexport function AppFotter() {\r\n    return (\r\n        <footer className=\"main-footer full\">\r\n            <div className=\"footer-logo flex direction-col align-center\">\r\n                <p>&copy; Star Wars by Michael Uzan</p>\r\n                <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Star_Wars_Logo.svg/1200px-Star_Wars_Logo.svg.png\" />\r\n            </div>\r\n            <div className=\"footer-desc\">\r\n                <ul className=\"social-links clean-list flex direction-row justify-center\">\r\n                    <li>\r\n                        <a target=\"_blank\" href=\"https://github.com/Michael-Uzan/starwars-frontend\">\r\n                            <p>See Code on GitHub Here: </p>\r\n                            <img src={gitHubLogo} />\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </footer>\r\n    );\r\n}","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { useForm } from '../hooks/useForm'\r\n\r\ninterface PropType {\r\n    onChangeFilter: () => void\r\n}\r\n\r\nexport const AppHeader = ({ onChangeFilter }: any) => {\r\n\r\n    const [filterBy, handleChange] = useForm({\r\n        txt: '',\r\n        isFavorite: false,\r\n    }, onChangeFilter)\r\n\r\n    const { txt, isFavorite } = filterBy\r\n\r\n    return (\r\n        <header className=\" main-header full flex direction-col \">\r\n            <div className=\"top-header flex\">\r\n                <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Star_Wars_Logo.svg/1200px-Star_Wars_Logo.svg.png\" />\r\n                <h1>Star Wars</h1>\r\n            </div>\r\n            <form className=\"filter flex align-center direction-row \">\r\n                <div className='flex'>\r\n                    <label htmlFor=\"txt\">Movie title: </label>\r\n                    <input value={txt} type=\"text\" id=\"txt\" name=\"txt\" onChange={handleChange} placeholder='Search movie' />\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"isFavorite\">Only favorite\r\n                        <input value={isFavorite} type=\"checkbox\" id=\"isFavorite\" name=\"isFavorite\" onChange={handleChange} />\r\n                    </label>\r\n                </div>\r\n            </form>\r\n        </header>\r\n    )\r\n}\r\n","import { useEffect, useState } from \"react\"\n\nexport const useForm = (initialFields: any, cb: Function = () => { }) => {\n\n  const [fields, setFields] = useState(initialFields)\n\n  useEffect(() => {\n    cb(fields)\n  }, [fields])\n\n  const handleChange = ({ target }: any) => {\n    const field: string = target.name\n    let value: boolean | number | string;\n    switch (target.type) {\n      case \"number\":\n        value = +target.value\n        break\n      case \"checkbox\":\n        value = target.checked\n        break\n      default:\n        value = target.value\n        break;\n    }\n    setFields((prevFields: any) => ({ ...prevFields, [field]: value }))\n  }\n\n  return [\n    fields,\n    handleChange,\n    setFields\n  ]\n}","export default __webpack_public_path__ + \"static/media/like-on.429596b9.png\";","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport IMovie from '../interface/IMovie.interface'\r\nimport likeOn from '../assets/imgs/like-on.png';\r\n\r\ninterface PropType {\r\n    movie: IMovie\r\n}\r\n\r\nexport const MoviePreview = ({ movie }: PropType) => {\r\n    return (\r\n        <section className=\"movie-preview\">\r\n            <NavLink activeClassName=\"active\" exact to={`/movie/${movie._id}`}>\r\n                <div>{movie.title}</div>\r\n                {movie.isFavorite && <img src={likeOn} />}\r\n            </NavLink>\r\n        </section>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport IMovie from '../interface/IMovie.interface'\r\nimport { MoviePreview } from './MoviePreview'\r\n\r\ninterface PropType {\r\n    movies: IMovie[],\r\n}\r\n\r\nexport const MovieList = ({ movies }: PropType) => {\r\n    return (\r\n        <nav className=\"nav-movie-list\">\r\n            {movies.map((movie: IMovie) => (<MoviePreview key={movie._id} movie={movie} />))}\r\n        </nav>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/bars-loader.8e56973c.svg\";","import React from 'react';\nimport Loader from '../assets/imgs/bars-loader.svg';\n\nexport function Loading() {\n    return (\n        <div className=\"loader flex align-center justify-center\">\n            <img src={Loader} alt=\"loading...\" />\n        </div>\n    )\n}\n","import React, { useEffect, useState } from 'react'\r\nimport IMovie from '../interface/IMovie.interface';\r\nimport { starwarsService } from '../services/starwars.service';\r\nimport { MovieList } from './MovieList';\r\nimport { Loading } from './Loading';\r\n\r\ninterface PropType {\r\n    movies: IMovie[] | null\r\n}\r\n\r\nexport const SideBar = ({ movies }: PropType) => {\r\n\r\n    if (!movies) return <Loading />\r\n\r\n    return (\r\n        <aside className=\"side-bar\">\r\n            <MovieList movies={movies} />\r\n            {!movies.length && <div>Sorry no results...</div>}\r\n        </aside>\r\n    )\r\n}\r\n","export const eventBusService = {\n    on,\n    emit,\n    showSuccessMsg,\n    showErrorMsg\n};\n\nfunction on(eventName: string, listener: any) {\n\n    const callListener = ({ detail }: any) => {\n        listener(detail);\n    };\n\n    window.addEventListener(eventName, callListener);\n\n    return () => {\n        window.removeEventListener(eventName, callListener);\n    };\n}\n\nfunction emit(eventName: string, data: any) {\n    window.dispatchEvent(new CustomEvent(eventName, { detail: data }));\n}\n\n\nexport function showUserMsg(txt: string, type: string = '') {\n    eventBusService.emit('show-user-msg', { txt, type })\n    console.log('User MSG!!')\n}\nexport function showSuccessMsg(txt: string) {\n    showUserMsg(txt, 'success')\n}\nexport function showErrorMsg(txt: string) {\n    showUserMsg(txt, 'danger')\n}\n\nwindow.myBus = eventBusService;\nwindow.showUserMsg = showUserMsg;\n\n\ndeclare global {\n    interface Window { myBus: any, showUserMsg: any }\n}\n\n","import React from 'react'\n\nimport { eventBusService } from '../services/event-bus.service'\n\n\nexport class UserMsg extends React.Component {\n\n  removeEvent: any;\n\n  state: any | null = {\n    msg: null\n  }\n\n  componentDidMount() {\n    this.removeEvent = eventBusService.on('show-user-msg', (msg: string) => {\n      this.setState({ msg })\n      setTimeout(() => {\n        this.setState({ msg: null })\n      }, 4000)\n    })\n  }\n\n  componentWillUnmount() {\n    this.removeEvent()\n  }\n\n  render() {\n    if (!this.state.msg) return <></>\n    const msgType = this.state.msg.type || ''\n    return (\n      <section className={`user-msg  flex direction-row align-center ${msgType}`}>\n        <div className=\" txt-msg flex direction-row align-center\">\n          {this.state.msg.txt}\n        </div>\n        <button onClick={() => {\n          this.setState({ msg: null })\n        }}>x</button>\n      </section>\n    )\n  }\n}\n","import IMovie from \"../interface/IMovie.interface\"\r\nexport const storageService = {\r\n    query,\r\n    get,\r\n    post,\r\n    put,\r\n    remove,\r\n}\r\n\r\nasync function query(entityType: string, delay = 200): Promise<any> {\r\n    const entities = JSON.parse(localStorage.getItem(entityType) || 'null')\r\n    return new Promise((resolve) => setTimeout(resolve, delay, entities))\r\n}\r\n\r\nasync function get(entityId: string, entityType: string): Promise<IMovie> {\r\n    const entities = await query(entityType)\r\n    const entity = entities.find((entity: any) => entity._id === entityId)\r\n    if (!entity) throw new Error(`Cannot get, Item ${entityId} of type: ${entityType} does not exist`)\r\n    return entity;\r\n}\r\n\r\nasync function post(newEntity: any, entityType: string): Promise<IMovie> {\r\n    newEntity = {\r\n        ...newEntity,\r\n        _id: _makeId()\r\n    }\r\n    const entities = await query(entityType)\r\n    entities.push(newEntity)\r\n    _save(entities, entityType)\r\n    return newEntity\r\n}\r\n\r\nasync function put(updatedEntity: any, entityType: string): Promise<IMovie> {\r\n    const entities = await query(entityType)\r\n    const idx = entities.findIndex((entity: any) => entity._id === updatedEntity._id)\r\n    if (idx < 0) { throw new Error(`Cannot update item, id \"${updatedEntity.id}\" was not found `) }\r\n    entities[idx] = updatedEntity\r\n    _save(entities, entityType)\r\n    return updatedEntity\r\n}\r\n\r\nasync function remove(entityId: number, entityType: string): Promise<boolean> {\r\n    const entities = await query(entityType)\r\n    const idx = entities.findIndex((entity: any) => entity._id === entityId)\r\n    if (idx !== -1) entities.splice(idx, 1)\r\n    else throw new Error(`Cannot remove, item id \"${entityId}\"\" of type: ${entityType} does not exist`)\r\n    _save(entities, entityType)\r\n    return true;\r\n}\r\n\r\n\r\nfunction _save(entities: IMovie[], entityType: string) {\r\n    localStorage.setItem(entityType, JSON.stringify(entities))\r\n}\r\n\r\nfunction _makeId(length: number = 5): number {\r\n    var txt = ''\r\n    var possible = '0123456789'\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length))\r\n    }\r\n    return +txt\r\n}","export const localStorageService = {\r\n    save,\r\n    load\r\n}\r\n\r\nfunction save(key: string, value: any) {\r\n    localStorage[key] = JSON.stringify(value);\r\n}\r\n\r\nfunction load(key: string, defaultValue = null) {\r\n    var value = localStorage[key] || defaultValue;\r\n    return JSON.parse(value);\r\n}\r\n","export const utilService = {\n    makeId,\n}\n\nfunction makeId(length: number = 16): string {\n    let txt = '';\n    const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n    for (var i = 0; i < length; i++) {\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n\n    return txt;\n}\n\n","'use strict'\r\nimport axios from 'axios'\r\nimport IFilter from '../interface/IFilter.interface';\r\nimport IMovie from '../interface/IMovie.interface';\r\nimport { storageService } from './async-storage.service';\r\nimport { localStorageService } from './storageService';\r\nimport { utilService } from './util.service';\r\n\r\nexport const starwarsService = {\r\n    getMovies,\r\n    getById,\r\n    updateMovie\r\n}\r\n\r\nconst STARWARS_DB: string = 'starwarsDB';\r\nconst STARWARS_API: string = 'https://swapi.dev/api/films/'\r\n\r\nasync function getMovies(filterBy: IFilter): Promise<IMovie[]> {\r\n    const movies = await storageService.query(STARWARS_DB) || await _getMoviesAPI()\r\n    let moviesToShow = JSON.parse(JSON.stringify(movies))\r\n    console.log('filterBy', filterBy)\r\n    if (filterBy) {\r\n        const { isFavorite, txt } = filterBy\r\n        const regex = new RegExp(txt, \"i\");\r\n        moviesToShow = moviesToShow.filter((movie: IMovie) => {\r\n            return (regex.test(movie.title)\r\n                && (isFavorite ? movie.isFavorite : true))\r\n        })\r\n    }\r\n    return moviesToShow\r\n}\r\n\r\nasync function _getMoviesAPI(): Promise<IMovie[]> {\r\n    const res: any = await axios.get(STARWARS_API)\r\n    const movies = res.data.results.map((result: any) => {\r\n        return {\r\n            _id: utilService.makeId(),\r\n            isFavorite: false,\r\n            title: result.title,\r\n            director: result.director,\r\n            releaseDate: result.release_date,\r\n            details: result.opening_crawl,\r\n            img: _getImg(result.title)\r\n        }\r\n    })\r\n    localStorageService.save(STARWARS_DB, movies)\r\n    return movies\r\n}\r\n\r\nfunction _getImg(title: string): string {\r\n    switch (title) {\r\n        case 'A New Hope':\r\n            return 'https://images-na.ssl-images-amazon.com/images/I/81aA7hEEykL.jpg'\r\n        case 'The Empire Strikes Back':\r\n            return 'https://images-na.ssl-images-amazon.com/images/I/91eOgodm4nL.jpg'\r\n        case 'Return of the Jedi':\r\n            return 'https://images-na.ssl-images-amazon.com/images/I/81g8vEs4ixL.jpg'\r\n        case 'The Phantom Menace':\r\n            return 'https://m.media-amazon.com/images/I/71rFhtOvY+L._SL1372_.jpg'\r\n        case 'Attack of the Clones':\r\n            return 'https://upload.wikimedia.org/wikipedia/en/thumb/5/5d/Attackoftheclones_novel.jpg/220px-Attackoftheclones_novel.jpg'\r\n        case 'Revenge of the Sith':\r\n            return 'https://www.michigansportszone.com/wp-content/uploads/2021/10/Ep3DVD.jpg'\r\n        default:\r\n            return 'https://images-na.ssl-images-amazon.com/images/I/81aA7hEEykL.jpg'\r\n    }\r\n}\r\n\r\nasync function getById(movieId: string): Promise<IMovie> {\r\n    const movie = await storageService.get(movieId, STARWARS_DB)\r\n    return movie\r\n}\r\n\r\nasync function updateMovie(movie: IMovie): Promise<IMovie> {\r\n    const updatedMovie = await storageService.put(movie, STARWARS_DB)\r\n    return updatedMovie\r\n}","export default __webpack_public_path__ + \"static/media/like.22cafb25.png\";","import React from 'react'\r\nimport IMovie from '../interface/IMovie.interface'\r\nimport like from '../assets/imgs/like.png';\r\nimport likeOn from '../assets/imgs/like-on.png';\r\n\r\ninterface PropType {\r\n    onLikeClick: Function,\r\n    isLike: boolean\r\n}\r\n\r\nexport const LikeButton = ({ onLikeClick, isLike }: PropType) => {\r\n\r\n    const getIsLiked = () => {\r\n        return isLike ? likeOn : like\r\n    }\r\n\r\n    return (\r\n        <section className=\"like-button\">\r\n            <button onClick={() => onLikeClick()}>\r\n                <img className='heart' src={getIsLiked()} />\r\n            </button>\r\n        </section>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Loading } from '../cmp/Loading';\r\nimport { starwarsService } from '../services/starwars.service';\r\nimport { LikeButton } from '../cmp/LikeButton';\r\n\r\nexport const MovieDetails = ({ match, loadMovies }: any) => {\r\n\r\n    const [movie, setMovie] = useState<any>(null);\r\n\r\n    useEffect(() => {\r\n        loadMovie();\r\n    }, [match.params.movieId]);\r\n\r\n    const loadMovie = async () => {\r\n        const { movieId } = match.params;\r\n        const movie = await starwarsService.getById(movieId)\r\n        setMovie(movie)\r\n    };\r\n\r\n    const onLikeClick = async () => {\r\n        const newMovie = JSON.parse(JSON.stringify(movie))\r\n        newMovie.isFavorite = !newMovie.isFavorite\r\n        const updatedMovie = await starwarsService.updateMovie(newMovie)\r\n        setMovie(updatedMovie)\r\n        loadMovies()\r\n    }\r\n\r\n    if (!movie) return <Loading />\r\n\r\n    return (\r\n        <section className=\"movie-details tac\">\r\n            <h1>{movie.title}</h1>\r\n            <img src={movie.img} />\r\n            <LikeButton isLike={movie.isFavorite} onLikeClick={onLikeClick} />\r\n            <h3>Director: {movie.director}</h3>\r\n            <h4>Release Date: {movie.releaseDate}</h4>\r\n            <p>{movie.details}</p>\r\n        </section>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\nimport { AppFotter } from './cmp/AppFooter';\nimport { AppHeader } from './cmp/AppHeader';\nimport { SideBar } from './cmp/SideBar';\nimport { UserMsg } from './cmp/UserMsg';\nimport IFilter from './interface/IFilter.interface';\nimport { MovieDetails } from './pages/MovieDetails';\nimport { eventBusService } from './services/event-bus.service';\nimport { starwarsService } from './services/starwars.service';\n\nfunction App() {\n\n  const [movies, setMovies] = useState<any>(null);\n  const [filterBy, setFilterBy] = useState<any>(null);\n\n  useEffect(() => {\n    eventBusService.showSuccessMsg('Welcome!!!')\n    loadMovies()\n    console.log('init')\n  }, [])\n\n  const loadMovies = async () => {\n    const movies = await starwarsService.getMovies(filterBy)\n    setMovies(movies)\n  }\n\n  const onChangeFilter = async (filterBy: IFilter) => {\n    setFilterBy(filterBy)\n    const movies = await starwarsService.getMovies(filterBy)\n    setMovies(movies)\n  }\n\n  return (\n    <div className=\"main-app main-container\">\n      <Router>\n        <UserMsg />\n        <AppHeader onChangeFilter={onChangeFilter} />\n        <main className='main-content' >\n          <SideBar movies={movies} />\n          <Switch>\n            <Route path='/movie/:movieId'\n              render={(props) => (\n                <MovieDetails {...props} loadMovies={loadMovies} authed={true} />\n              )}\n            />\n          </Switch>\n        </main>\n        <AppFotter />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport '../src/assets/styles/main.scss';\nimport reportWebVitals from './reportWebVitals';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}